"use strict";(self.webpackChunkpeep=self.webpackChunkpeep||[]).push([[198],{7198:(s,t,e)=>{e.r(t),e.d(t,{default:()=>N});var r=e(2791);const o="ProfileInfo_descriptionBlock__n51iN",a="ProfileInfo_userPhoto__vrpo7";var i=e(9163),n=e(184);const p=s=>{let[t,e]=(0,r.useState)(!1),[o,a]=(0,r.useState)(s.status);(0,r.useEffect)((()=>{a(s.status)}),[s.status]);return(0,n.jsxs)("div",{children:[!t&&(0,n.jsx)("div",{children:(0,n.jsx)("span",{onDoubleClick:()=>{e(!0)},children:s.status||"No status"})}),t&&(0,n.jsx)("div",{children:(0,n.jsx)("input",{onChange:s=>{a(s.currentTarget.value)},autoFocus:!0,onBlur:()=>{e(!1),s.updateStatus(o)},value:o})})]})};var l=e(3193);const u=s=>{let{profile:t,status:e,updateStatus:r,isOwner:u,savePhoto:d}=s;if(!t)return(0,n.jsx)(i.Z,{});return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:o,children:[(0,n.jsx)("img",{src:"https://wallpapercave.com/wp/wp2461898.jpg"}),(0,n.jsx)("img",{src:t.photos.large||l,className:a}),u&&(0,n.jsx)("input",{type:"file",onChange:s=>{s.target.files.length&&d(s.target.files[0])}}),(0,n.jsx)(p,{status:e,updateStatus:r}),(0,n.jsx)("div",{children:t.fullName}),(0,n.jsx)("div",{children:t.aboutMe}),(0,n.jsx)("a",{href:t.contacts.twitter,target:"_blank",children:"X"}),t.lookingForAJob,(0,n.jsx)("div",{children:"I'm open for a job"}),(0,n.jsx)("div",{children:t.lookingForAJobDescription})]})})};var d=e(6508);const h="Post_post__4mLt8",c=s=>(0,n.jsxs)("div",{className:h,children:[(0,n.jsx)("img",{src:s.ava}),s.message,(0,n.jsxs)("div",{children:[s.likesCount," likes"]})]}),x="MyPosts_myposts__xFj9P";var j=e(6139),f=e(704),v=e(5304),m=e(1436);const P=(0,v.DT)(10),g=(0,f.Z)({form:"newPostText"})((s=>(0,n.jsx)("div",{children:(0,n.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,n.jsx)("div",{children:(0,n.jsx)(j.Z,{component:m.gx,name:"newPostText",placeholder:"type text",validate:[v.C1,P]})}),(0,n.jsx)("button",{children:"Add post"})]})}))),w=r.memo((s=>{let t=s.posts.map((s=>(0,n.jsx)(c,{ava:s.ava,message:s.message,likesCount:s.likesCount})));return(0,n.jsxs)("div",{className:x,children:[(0,n.jsx)("h3",{children:"My Posts"}),(0,n.jsx)(g,{onSubmit:t=>{s.addPost(t.newPostText)}}),(0,n.jsx)("div",{children:t})]})}));var S=e(8687);const k=(0,S.$j)((s=>({posts:s.profilePage.posts,newPostText:s.profilePage.newPostText})),(s=>({addPost:t=>{s((0,d.Wl)(t))}})))(w),_=s=>(0,n.jsxs)("div",{children:[(0,n.jsx)(u,{savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,n.jsx)(k,{})]});var b=e(4880),C=e(97);class I extends r.Component{refreshProfile(){let s=this.props.match.params.userId;s||(s=this.props.authorizedUserId),this.props.getUserProfile(s),this.props.getStatus(s)}componentDidMount(){this.refreshProfile()}componentDidUpdate(s,t,e){this.props.match.params.userId!=s.match.params.userId&&this.refreshProfile()}render(){return(0,n.jsx)(_,{...this.props,isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto})}}const N=(0,C.qC)((0,S.$j)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth})),{getUserProfile:d.et,getStatus:d.lR,updateStatus:d.Nf,savePhoto:d.Ju}),b.EN)(I)}}]);
//# sourceMappingURL=198.6ba0f3a1.chunk.js.map