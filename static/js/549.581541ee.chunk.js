"use strict";(self.webpackChunkpeep=self.webpackChunkpeep||[]).push([[549],{2549:(s,e,t)=>{t.r(e),t.d(e,{default:()=>M});var r=t(2791);const i="ProfileInfo_descriptionBlock__n51iN",o="ProfileInfo_userPhoto__vrpo7",a="ProfileInfo_contact__Fa5bW";var l=t(9163),n=t(184);const d=s=>{let[e,t]=(0,r.useState)(!1),[i,o]=(0,r.useState)(s.status);(0,r.useEffect)((()=>{o(s.status)}),[s.status]);return(0,n.jsxs)("div",{children:[!e&&(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"Status: "}),(0,n.jsx)("span",{onDoubleClick:()=>{t(!0)},children:s.status||"No status"})]}),e&&(0,n.jsx)("div",{children:(0,n.jsx)("input",{onChange:s=>{o(s.currentTarget.value)},autoFocus:!0,onBlur:()=>{t(!1),s.updateStatus(i)},value:i})})]})};var c=t(3193),u=t(1436),h=t(704),p=t(1964);const x=(0,h.Z)({form:"edit-profile"})((s=>{let{handleSubmit:e,profile:t,error:r}=s;return(0,n.jsxs)("form",{onSubmit:e,children:[(0,n.jsx)("div",{children:(0,n.jsx)("button",{children:"save"})}),r&&(0,n.jsx)("div",{className:p.Z.formSummaryError,children:r}),(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"Full Name: "})," ",(0,u.Gr)("Full name","fullName",[],u.II)]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"Looking for a job: "})," ",(0,u.Gr)("","lookingForAJob",[],u.II,{type:"checkbox"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"My professional skills: "})," ",(0,u.Gr)("My professional skills","lookingForAJobDescription",[],u.gx)]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"About me: "})," ",(0,u.Gr)("About me..","aboutMe",[],u.gx)]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"Contacts:"})," ",Object.keys(t.contacts).map((s=>(0,n.jsxs)("div",{className:a,children:[(0,n.jsxs)("b",{children:[s,": "]})," ",(0,u.Gr)(s,"contacts."+s,[],u.II)]},s)))]})]})})),j=s=>{let{profile:e,isOwner:t,goToEditMode:r}=s;return(0,n.jsxs)("div",{children:[t&&(0,n.jsx)("div",{children:(0,n.jsx)("button",{onClick:r,children:"edit"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"Full Name: "}),e.fullName]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"Looking for a job: "})," ",e.lookingForAJob?"Yes":"No"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"My professional skills: "}),e.lookingForAJobDescription]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"About me: "}),e.aboutMe]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"Contacts:"})," ",Object.keys(e.contacts).map((s=>(0,n.jsx)(f,{contactTitle:s,contactValue:e.contacts[s]},s)))]})]})},f=s=>{let{contactTitle:e,contactValue:t}=s;return(0,n.jsxs)("div",{className:a,children:[(0,n.jsxs)("b",{children:[e,": "]}),t]})},m=s=>{let{profile:e,status:t,updateStatus:a,isOwner:u,savePhoto:h,saveProfile:p}=s,[f,m]=(0,r.useState)(!1);if(!e)return(0,n.jsx)(l.Z,{});return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:i,children:[(0,n.jsx)("img",{src:"https://wallpapercave.com/wp/wp2461898.jpg"}),(0,n.jsx)("img",{src:e.photos.large||c,className:o}),u&&(0,n.jsx)("input",{type:"file",onChange:s=>{s.target.files.length&&h(s.target.files[0])}}),(0,n.jsx)(d,{status:t,updateStatus:a}),f?(0,n.jsx)(x,{initialValues:e,profile:e,onSubmit:s=>{p(s),m(!1)}}):(0,n.jsx)(j,{goToEditMode:()=>{m(!0)},profile:e,isOwner:u})]})})};var v=t(6508);const b="Post_post__4mLt8",P=s=>(0,n.jsxs)("div",{className:b,children:[(0,n.jsx)("img",{src:s.ava}),s.message,(0,n.jsxs)("div",{children:[s.likesCount," likes"]})]}),g="MyPosts_myposts__xFj9P";var k=t(6139),S=t(5304);const I=(0,S.DT)(10),w=(0,h.Z)({form:"newPostText"})((s=>(0,n.jsx)("div",{children:(0,n.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,n.jsx)("div",{children:(0,n.jsx)(k.Z,{component:u.gx,name:"newPostText",placeholder:"type text",validate:[S.C1,I]})}),(0,n.jsx)("button",{children:"Add post"})]})}))),N=r.memo((s=>{let e=s.posts.map((s=>(0,n.jsx)(P,{ava:s.ava,message:s.message,likesCount:s.likesCount},s.id)));return(0,n.jsxs)("div",{className:g,children:[(0,n.jsx)("h3",{children:"My Posts"}),(0,n.jsx)(w,{onSubmit:e=>{s.addPost(e.newPostText)}}),(0,n.jsx)("div",{children:e})]})}));var _=t(8687);const C=(0,_.$j)((s=>({posts:s.profilePage.posts,newPostText:s.profilePage.newPostText})),(s=>({addPost:e=>{s((0,v.Wl)(e))}})))(N),y=s=>(0,n.jsxs)("div",{children:[(0,n.jsx)(m,{savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.profile,status:s.status,saveProfile:s.saveProfile,updateStatus:s.updateStatus}),(0,n.jsx)(C,{})]});var T=t(4880),A=t(97);class F extends r.Component{refreshProfile(){let s=this.props.match.params.userId;s||(s=this.props.authorizedUserId),this.props.getUserProfile(s),this.props.getStatus(s)}componentDidMount(){this.refreshProfile()}componentDidUpdate(s,e,t){this.props.match.params.userId!=s.match.params.userId&&this.refreshProfile()}render(){return(0,n.jsx)(y,{...this.props,isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto})}}const M=(0,A.qC)((0,_.$j)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth})),{getUserProfile:v.et,getStatus:v.lR,updateStatus:v.Nf,savePhoto:v.Ju,saveProfile:v.Ii}),T.EN)(F)}}]);
//# sourceMappingURL=549.581541ee.chunk.js.map