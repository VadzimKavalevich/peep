"use strict";(self.webpackChunkpeep=self.webpackChunkpeep||[]).push([[587],{3587:(s,e,a)=>{a.r(e),a.d(e,{default:()=>C});var i=a(2791),d=a(2906);const l="Dialogs_dialogs__h66Qh",n="Dialogs_dialogsItems__BzVOF",o="Dialogs_messages__db-gs",r="Dialogs_first__d9vR9",g="Dialogs_second__4iybn",t="Dialog_dialog__JRmQM";var c=a(1523),m=a(184);const h=s=>{let e="/dialogs/"+s.id;return(0,m.jsx)("div",{className:t,children:(0,m.jsxs)(c.OL,{to:e,children:[" ",(0,m.jsx)("img",{src:s.ava})," ",s.name]})})},x="Message_dialog__LWHxi",j=s=>(0,m.jsx)("div",{className:x,children:s.message});var _=a(4880),u=a(6139),v=a(704),p=a(1436),b=a(5304);const f=(0,b.DT)(20),D=(0,v.Z)({form:"dialogAddMessage"})((s=>(0,m.jsx)("div",{children:(0,m.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,m.jsx)(u.Z,{component:p.gx,name:"newMessageBody",placeholder:"Enter your message",validate:[b.C1,f]}),(0,m.jsx)("button",{children:"Send message"})]})}))),M=s=>{let e=s.dialogsPage.dialogs.map((s=>(0,m.jsx)(h,{ava:s.ava,name:s.name,id:s.id},s.id))),a=s.dialogsPage.messages.map((s=>(0,m.jsx)(j,{message:s.message},s.id)));if(!s.isAuth)return(0,m.jsx)(_.l_,{to:"/login"});return(0,m.jsxs)("div",{className:l,children:[(0,m.jsx)("div",{className:n,children:e}),(0,m.jsxs)("div",{className:o,children:[(0,m.jsxs)("div",{className:r,children:[(0,m.jsx)("div",{children:a}),(0,m.jsx)("div",{children:(0,m.jsx)(D,{onSubmit:e=>{console.log(e),s.sendMessage(e.newMessageBody)}})})]}),(0,m.jsx)("div",{className:g,children:(0,m.jsx)("div",{children:a})})]})]})};var N=a(8687);let A=s=>({isAuth:s.auth.isAuth});const C=(0,a(97).qC)((0,N.$j)((s=>({dialogsPage:s.dialogsPage})),(s=>({sendMessage:e=>{s((0,d.X)(e))}}))),(s=>{class e extends i.Component{render(){return this.props.isAuth?(0,m.jsx)(s,{...this.props}):(0,m.jsx)(_.l_,{to:"/login"})}}return(0,N.$j)(A)(e)}))(M)}}]);
//# sourceMappingURL=587.d6150afb.chunk.js.map